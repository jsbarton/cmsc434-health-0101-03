<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<html>
<head>
  <link rel="stylesheet" href="homePage.css">
  <link rel="stylesheet" href="global-styles.css">
  <script type="text/javascript">
    

    function getLink(type) {
        if (type == "Weight") {
            return "./weightTracker.html"
        } else if (type == "Diet") {
          return "./dietHelper.html"
        } else if (type == "Mental Health") {
          return "./mentalHealth.html"
        } else if (type == "Exercise") {
          return "./exercise.html"
        }
    }

    function loadGoals() {
        let box = document.getElementById("box")
        let goals = JSON.parse(localStorage.getItem("goals"))

        let cnt = 0
        let div = document.createElement("div")
        div.setAttribute("class", "option")
        
        for (goal of goals) {
            if (cnt % 2 == 0) {
                div = document.createElement("form")
                div.setAttribute("class", "option")
                box.appendChild(div)
            }
            let button = document.createElement("button")
            button.setAttribute("class", "select")
            button.setAttribute("formaction", getLink(goal))
            button.innerHTML = goal
            div.appendChild(button)
            cnt++
        }
        let title = document.getElementById("title")
        let name = localStorage.getItem("name")
        if (!name) title.innerHTML = "Welcome"
        else title.innerHTML = "Welcome, " + name + "!"

        let divider = document.createElement("hr")
        divider.setAttribute("class", "rounded")

        box.appendChild(divider)
    }
    
    window.onload = loadGoals;
    
  </script>
</head>
<body>
  <div class="background">
  <div class="box" id="box">
    <h1 class="title" id="title"> </h1>
    <hr class="rounded">
    
  </div>
    <a href="./goals.html" class="link">
      Goals
    </a>
    <a href="./profilePage.html" class="link">
      Profile Page
    </a>
  </div>
</body>
</html>
